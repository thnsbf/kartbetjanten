#! encoding="UTF-8"
#    Command line to run this workspace:
#        "C:\Program Files\FME_Form_Local_ver\fme.exe" "K:\FME\3D projekt\Cesium\wb-xlate-1726147018313_5196"
#          --DestDataset_OBJ "K:\FME\3D projekt\Cesium"
#          --SourceDataset_OBJ_2 "C:\Users\amajep001\Downloads\Kopparholmen 8\HUS_radhus.obj"
#          --DestDataset_CESIUM3DTILES "K:\FME\3D projekt\Cesium"
#          --FME_LAUNCH_VIEWER_APP "YES"
#    

MACRO FME_MF_NAME FormatillCesium.fmw
MACRO FME_MF_NAME_MASTER FormatillCesium.fmw

FME_PYTHON_VERSION 311
ARCGIS_COMPATIBILITY ARCGIS_AUTO
GUI IGNORE SourceDataset_OBJ_3,OBJ_IN_FME_GROUP_NAMED1_OBJ_3,OBJ_IN_MERGE_MESH_PARTS_OBJ_3,OBJ_IN_FME_GROUP_NAMED2_OBJ_3,OBJ_IN_MOVE_TO_WORLD_COORDSYS_OBJ_3,OBJ_IN_USE_SEARCH_ENVELOPE_OBJ_3,OBJ_IN_SEARCH_ENVELOPE_MINX_OBJ_3,OBJ_IN_SEARCH_ENVELOPE_MINY_OBJ_3,OBJ_IN_SEARCH_ENVELOPE_MAXX_OBJ_3,OBJ_IN_SEARCH_ENVELOPE_MAXY_OBJ_3,OBJ_IN_SEARCH_ENVELOPE_COORDINATE_SYSTEM_OBJ_3,OBJ_IN_CLIP_TO_ENVELOPE_OBJ_3,OBJ_IN_NETWORK_AUTHENTICATION_OBJ_3,DestDataset_OBJ_2,OBJ_OUT_FME_GROUP_NAMED1_OBJ_2,OBJ_OUT_MOVE_TO_LOCAL_COORDSYS_OBJ_2,OBJ_OUT_FME_GROUP_NAMED2_OBJ_2,OBJ_OUT_REVERSE_FACE_ORDER_OBJ_2,OBJ_OUT_TRIANGULATE_FACES_OBJ_2,OBJ_OUT_WRITE_POINTS_AND_LINES_OBJ_2,OBJ_OUT_WRITE_MESH_VERTEX_COLORS_OBJ_2,OBJ_OUT_MATERIAL_LIB_OBJ_2,OBJ_OUT_MATERIAL_LIB_LINKAGE_OBJ_2,OBJ_OUT_FME_GROUP_NAMED3_OBJ_2,OBJ_OUT_TEXTURE_OUTPUT_FORMAT_OBJ_2,OBJ_OUT_OBJ_WRT_ADV_PARM_GROUP_OBJ_2,OBJ_OUT_WRITE_FME_VERSION_OBJ_2,DestDataset_CESIUM3DTILES_1,CESIUM3DTILES_OUT_WRITER_PARAMS_CESIUM3DTILES_1,CESIUM3DTILES_OUT_MAX_FACES_PER_TILE_CESIUM3DTILES_1,CESIUM3DTILES_OUT_FME_GROUP_NAMED1_CESIUM3DTILES_1,CESIUM3DTILES_OUT_TEXTURE_FORMAT_CHOICES_CESIUM3DTILES_1,CESIUM3DTILES_OUT_CREATE_ATLAS_TEXTURES_CESIUM3DTILES_1
# ============================================================================
DEFAULT_MACRO DestDataset_OBJ K:\FME\3D projekt\Cesium

DEFAULT_MACRO SourceDataset_OBJ_2 C:\Users\amajep001\Downloads\Kopparholmen 8\HUS_radhus.obj

DEFAULT_MACRO DestDataset_CESIUM3DTILES K:\FME\3D projekt\Cesium

DEFAULT_MACRO FME_DATA_REPOSITORY 

DEFAULT_MACRO FME_ENGINE 

DEFAULT_MACRO FME_JOB_ID 

DEFAULT_MACRO FME_SECURITY_ROLES 

DEFAULT_MACRO FME_SECURITY_USER 

DEFAULT_MACRO FME_SERVER_DEST_DIR 

DEFAULT_MACRO FME_SERVER_HOST 

DEFAULT_MACRO FME_SERVER_PORT 

DEFAULT_MACRO FME_SERVER_REQUEST_HEADERS 

DEFAULT_MACRO FME_SERVER_REQUEST_METHOD 

DEFAULT_MACRO FME_SERVER_REQUEST_PARAMETERS 

DEFAULT_MACRO FME_SERVER_REQUEST_URI 

DEFAULT_MACRO FME_SERVER_RUNTIME_USER 

DEFAULT_MACRO FME_SERVER_RUNTIME_USER_ID 

DEFAULT_MACRO FME_SERVER_WEB_URL 

DEFAULT_MACRO FME_SHAREDRESOURCE_BACKUP 

DEFAULT_MACRO FME_SHAREDRESOURCE_DASHBOARD 

DEFAULT_MACRO FME_SHAREDRESOURCE_DATA 

DEFAULT_MACRO FME_SHAREDRESOURCE_ENGINE 

DEFAULT_MACRO FME_SHAREDRESOURCE_LOG 

DEFAULT_MACRO FME_SHAREDRESOURCE_SYSTEM 

DEFAULT_MACRO FME_SHAREDRESOURCE_TEMP 

DEFAULT_MACRO FME_TOPIC 

DEFAULT_MACRO FME_TOPIC_MESSAGE 

# ============================================================================
INCLUDE [ if {{$(SourceDataset_OBJ_2$encode)} == {}} { puts_real {Parameter 'SourceDataset_OBJ_2' must be given a value.}; exit 1; }; ]
INCLUDE [ if {{$(DestDataset_CESIUM3DTILES$encode)} == {}} { puts_real {Parameter 'DestDataset_CESIUM3DTILES' must be given a value.}; exit 1; }; ]
#! START_HEADER
#! START_WB_HEADER
READER_TYPE MULTI_READER
MULTI_READER_TYPE{0} OBJ
MULTI_READER_KEYWORD{0} OBJ_3
MULTI_READER_GEN_DIRECTIVES{0} EXPOSE_ATTRS_GROUP,,VARIABLE_FEATURE_TYPES,yes,SEARCH_ENVELOPE_MINY,0,MOVE_TO_WORLD_COORDSYS,Yes,OBJ_EXPOSE_FORMAT_ATTRS,,CLIP_TO_ENVELOPE,NO,SEARCH_ENVELOPE_MINX,0,MERGE_MESH_PARTS,No,USE_SEARCH_ENVELOPE,NO,SEARCH_ENVELOPE_MAXY,0,SEARCH_ENVELOPE_COORDINATE_SYSTEM,,_MERGE_SCHEMAS,YES,SEARCH_ENVELOPE_MAXX,0
WRITER_TYPE MULTI_WRITER
WRITER_KEYWORD PRIMARY_DEST
PRIMARY_DEST_DATASET_ORDER BY_ID
PRIMARY_DEST_FIRST_WRITER_ID 1
PRIMARY_DEST_TYPE{0} NULL
PRIMARY_DEST_KEYWORD{0} OBJ_2
PRIMARY_DEST_TYPE{1} CESIUM3DTILES
PRIMARY_DEST_KEYWORD{1} CESIUM3DTILES_1
PRIMARY_DEST_GEN_DIRECTIVES{1} CREATE_ATLAS_TEXTURES,YES,ALLOW_MIXED_GEOM_TILESETS,NO,DEFAULT_CRS,EPSG:4326,TEXTURE_FORMAT_CHOICES,WEBP,COORDINATE_SYSTEM_GRANULARITY,FEATURE,ADD_WRITER_NEXT_ACTION,copy_from_reader,MAX_FACES_PER_TILE,1000
#! END_WB_HEADER
#! START_WB_HEADER
MACRO WB_KEYWORD "OBJ_3"
#! END_WB_HEADER
#! START_SOURCE_HEADER OBJ OBJ_3
# The dataset this mapping file was generated from was:
#! END_SOURCE_HEADER
#! START_WB_HEADER
DEFAULT_MACRO SourceDataset
INCLUDE [ if {{$(SourceDataset)} != ""} {                        \
 puts {DEFAULT_MACRO SourceDataset_OBJ_3 $(SourceDataset)}     \
 } ]
#! END_WB_HEADER
#! START_SOURCE_HEADER OBJ OBJ_3
DEFAULT_MACRO SourceDataset_OBJ_3 $(SourceDataset_OBJ_2)
GUI MULTIFILE SourceDataset_OBJ_3 OBJ_Files(*.obj)|*.obj|All_Files(*)|* Source OBJ File:
DEFAULT_MACRO OBJ_IN_VARIABLE_FEATURE_TYPES_OBJ_3 yes
OBJ_3_VARIABLE_FEATURE_TYPES "$(OBJ_IN_VARIABLE_FEATURE_TYPES_OBJ_3)"
DEFAULT_MACRO OBJ_IN_FME_GROUP_NAMED1_OBJ_3 FME_DISCLOSURE_OPEN
GUI OPTIONAL DISCLOSUREGROUP OBJ_IN_FME_GROUP_NAMED1_OBJ_3 OBJ_IN_MERGE_MESH_PARTS_OBJ_3 Optimization
DEFAULT_MACRO OBJ_IN_MERGE_MESH_PARTS_OBJ_3 No
OBJ_3_MERGE_MESH_PARTS "$(OBJ_IN_MERGE_MESH_PARTS_OBJ_3)"
GUI CHOICE OBJ_IN_MERGE_MESH_PARTS_OBJ_3 Yes%No Merge Mesh Parts:
DEFAULT_MACRO OBJ_IN_FME_GROUP_NAMED2_OBJ_3 FME_DISCLOSURE_OPEN
GUI OPTIONAL DISCLOSUREGROUP OBJ_IN_FME_GROUP_NAMED2_OBJ_3 OBJ_IN_MOVE_TO_WORLD_COORDSYS_OBJ_3 Coordinate System
DEFAULT_MACRO OBJ_IN_MOVE_TO_WORLD_COORDSYS_OBJ_3 Yes
OBJ_3_MOVE_TO_WORLD_COORDSYS "$(OBJ_IN_MOVE_TO_WORLD_COORDSYS_OBJ_3)"
GUI CHOICE OBJ_IN_MOVE_TO_WORLD_COORDSYS_OBJ_3 Yes%No Move to World Coordinate System:
DEFAULT_MACRO OBJ_IN_EXPOSE_ATTRS_GROUP_OBJ_3 
OBJ_3_EXPOSE_ATTRS_GROUP "$(OBJ_IN_EXPOSE_ATTRS_GROUP_OBJ_3)"
# Include this file in source setting section to add external search envelope processing
# Zero as a default means we don't do any search -- this makes workbench happier
DEFAULT_MACRO OBJ_IN_USE_SEARCH_ENVELOPE_OBJ_3 NO
OBJ_3_USE_SEARCH_ENVELOPE "$(OBJ_IN_USE_SEARCH_ENVELOPE_OBJ_3)"
GUI ACTIVEDISCLOSUREGROUP OBJ_IN_USE_SEARCH_ENVELOPE_OBJ_3 OBJ_IN_SEARCH_ENVELOPE_MINX_OBJ_3%OBJ_IN_SEARCH_ENVELOPE_MINY_OBJ_3%OBJ_IN_SEARCH_ENVELOPE_MAXX_OBJ_3%OBJ_IN_SEARCH_ENVELOPE_MAXY_OBJ_3%OBJ_IN_SEARCH_ENVELOPE_COORDINATE_SYSTEM_OBJ_3%OBJ_IN_CLIP_TO_ENVELOPE_OBJ_3%OBJ_IN_SEARCH_METHOD%OBJ_IN_SEARCH_METHOD_FILTER%OBJ_IN_SEARCH_ORDER%OBJ_IN_SEARCH_FEATURE%OBJ_IN_DUMMY_SEARCH_ENVELOPE_PARAMETER Use Search Envelope
# ===========================================================================
GUI LOOKUP OBJ_IN_SEARCH_ENVELOPE_MINX_OBJ_3 <Unused>,0 
DEFAULT_MACRO OBJ_IN_SEARCH_ENVELOPE_MINX_OBJ_3 0
OBJ_3_SEARCH_ENVELOPE "$(OBJ_IN_SEARCH_ENVELOPE_MINX_OBJ_3)"
GUI OPTIONAL FLOAT OBJ_IN_SEARCH_ENVELOPE_MINX_OBJ_3 Minimum X:
# ===========================================================================
GUI LOOKUP OBJ_IN_SEARCH_ENVELOPE_MINY_OBJ_3 <Unused>,0 
DEFAULT_MACRO OBJ_IN_SEARCH_ENVELOPE_MINY_OBJ_3 0
OBJ_3_SEARCH_ENVELOPE "$(OBJ_IN_SEARCH_ENVELOPE_MINY_OBJ_3)"
GUI OPTIONAL FLOAT OBJ_IN_SEARCH_ENVELOPE_MINY_OBJ_3 Minimum Y:
# ===========================================================================
GUI LOOKUP OBJ_IN_SEARCH_ENVELOPE_MAXX_OBJ_3 <Unused>,0 
DEFAULT_MACRO OBJ_IN_SEARCH_ENVELOPE_MAXX_OBJ_3 0
OBJ_3_SEARCH_ENVELOPE "$(OBJ_IN_SEARCH_ENVELOPE_MAXX_OBJ_3)"
GUI OPTIONAL FLOAT OBJ_IN_SEARCH_ENVELOPE_MAXX_OBJ_3 Maximum X:
# ===========================================================================
GUI LOOKUP OBJ_IN_SEARCH_ENVELOPE_MAXY_OBJ_3 <Unused>,0 
DEFAULT_MACRO OBJ_IN_SEARCH_ENVELOPE_MAXY_OBJ_3 0
OBJ_3_SEARCH_ENVELOPE "$(OBJ_IN_SEARCH_ENVELOPE_MAXY_OBJ_3)"
GUI OPTIONAL FLOAT OBJ_IN_SEARCH_ENVELOPE_MAXY_OBJ_3 Maximum Y:
# ===========================================================================
GUI LOOKUP OBJ_IN_SEARCH_ENVELOPE_COORDINATE_SYSTEM_OBJ_3 <Unused>, 
DEFAULT_MACRO OBJ_IN_SEARCH_ENVELOPE_COORDINATE_SYSTEM_OBJ_3 
OBJ_3_SEARCH_ENVELOPE "$(OBJ_IN_SEARCH_ENVELOPE_COORDINATE_SYSTEM_OBJ_3)"
GUI OPTIONAL COORDSYS OBJ_IN_SEARCH_ENVELOPE_COORDINATE_SYSTEM_OBJ_3 Search Envelope Coordinate System:
# ===========================================================================
# BUG18999: We now have a soft clip to fall back on like native spatial index
# thus we are reintroducing the clip to envelop as an option for users.
# Defualt to soft clip as per the existing database readers we are emulating
GUI LOOKUP OBJ_IN_CLIP_TO_ENVELOPE_OBJ_3 <Unused>,NO 
DEFAULT_MACRO OBJ_IN_CLIP_TO_ENVELOPE_OBJ_3 NO
OBJ_3_CLIP_TO_ENVELOPE "$(OBJ_IN_CLIP_TO_ENVELOPE_OBJ_3)"
GUI OPTIONAL CHECKBOX OBJ_IN_CLIP_TO_ENVELOPE_OBJ_3 YES%NO Clip to Search Envelope
# ===========================================================================
DEFAULT_MACRO OBJ_IN_NETWORK_AUTHENTICATION_OBJ_3 
OBJ_3_NETWORK_AUTHENTICATION "$(OBJ_IN_NETWORK_AUTHENTICATION_OBJ_3)"
GUI OPTIONAL AUTHENTICATOR OBJ_IN_NETWORK_AUTHENTICATION_OBJ_3 CONTAINER%GROUP%CONTAINER_TITLE%"Network Authentication"%PROMPT_TYPE%NETWORK Network Authentication
# ============================================================================
DEFAULT_MACRO OBJ_IN_ATTRIBUTE_READING_OBJ_3 ALL
OBJ_3_ATTRIBUTE_READING "$(OBJ_IN_ATTRIBUTE_READING_OBJ_3)"
# ============================================================================
OBJ_3_GENERATE_FME_BUILD_NUM 23619
OBJ_3_DATASET "$(SourceDataset_OBJ_3)"
#! END_SOURCE_HEADER
#! START_WB_HEADER
MACRO WB_KEYWORD "OBJ_2"
#! END_WB_HEADER
#! START_DEST_HEADER OBJ OBJ_2
#! END_DEST_HEADER
#! START_WB_HEADER
DEFAULT_MACRO DestDataset
INCLUDE [ if {"$(DestDataset)" != ""} {                          \
 puts {DEFAULT_MACRO DestDataset_OBJ_2 $(DestDataset)}         \
 } ]
#! END_WB_HEADER
#! START_DEST_HEADER OBJ OBJ_2
DEFAULT_MACRO DestDataset_OBJ_2 $(DestDataset_OBJ)
GUI DIRNAME DestDataset_OBJ_2 Destination OBJ Folder:
DEFAULT_MACRO OBJ_OUT_FME_GROUP_NAMED1_OBJ_2 
GUI OPTIONAL DISCLOSUREGROUP OBJ_OUT_FME_GROUP_NAMED1_OBJ_2 OBJ_OUT_MOVE_TO_LOCAL_COORDSYS_OBJ_2 Coordinate System
DEFAULT_MACRO OBJ_OUT_MOVE_TO_LOCAL_COORDSYS_OBJ_2 No
OBJ_2_MOVE_TO_LOCAL_COORDSYS "$(OBJ_OUT_MOVE_TO_LOCAL_COORDSYS_OBJ_2)"
GUI LOOKUP_CHOICE OBJ_OUT_MOVE_TO_LOCAL_COORDSYS_OBJ_2 Yes,Yes%No,No%"\"Create Projection File Only\",PRJ_ONLY"%"\"Transform Coordinates Only\",COORDINATES_ONLY" Move to Local Coordinate System:
DEFAULT_MACRO OBJ_OUT_FME_GROUP_NAMED2_OBJ_2 
GUI OPTIONAL DISCLOSUREGROUP OBJ_OUT_FME_GROUP_NAMED2_OBJ_2 OBJ_OUT_REVERSE_FACE_ORDER_OBJ_2%OBJ_OUT_TRIANGULATE_FACES_OBJ_2%OBJ_OUT_WRITE_POINTS_AND_LINES_OBJ_2%OBJ_OUT_WRITE_MESH_VERTEX_COLORS_OBJ_2 Feature Handling
DEFAULT_MACRO OBJ_OUT_REVERSE_FACE_ORDER_OBJ_2 No
OBJ_2_REVERSE_FACE_ORDER "$(OBJ_OUT_REVERSE_FACE_ORDER_OBJ_2)"
GUI CHOICE OBJ_OUT_REVERSE_FACE_ORDER_OBJ_2 Yes%No Reverse Face Order:
DEFAULT_MACRO OBJ_OUT_TRIANGULATE_FACES_OBJ_2 Yes
OBJ_2_TRIANGULATE_FACES "$(OBJ_OUT_TRIANGULATE_FACES_OBJ_2)"
GUI CHOICE OBJ_OUT_TRIANGULATE_FACES_OBJ_2 Yes%No Triangulate Faces:
DEFAULT_MACRO OBJ_OUT_WRITE_POINTS_AND_LINES_OBJ_2 No
OBJ_2_WRITE_POINTS_AND_LINES "$(OBJ_OUT_WRITE_POINTS_AND_LINES_OBJ_2)"
GUI CHOICE OBJ_OUT_WRITE_POINTS_AND_LINES_OBJ_2 Yes%No Write Points and Lines:
DEFAULT_MACRO OBJ_OUT_WRITE_MESH_VERTEX_COLORS_OBJ_2 Yes
OBJ_2_WRITE_MESH_VERTEX_COLORS "$(OBJ_OUT_WRITE_MESH_VERTEX_COLORS_OBJ_2)"
GUI CHOICE OBJ_OUT_WRITE_MESH_VERTEX_COLORS_OBJ_2 Yes%No Write Mesh Vertex Colors:
DEFAULT_MACRO OBJ_OUT_MATERIAL_LIB_OBJ_2 
OBJ_2_MATERIAL_LIB "$(OBJ_OUT_MATERIAL_LIB_OBJ_2)"
GUI OPTIONAL FILENAME_MUSTEXIST OBJ_OUT_MATERIAL_LIB_OBJ_2 Material_Library_File(*.mtl)|*.mtl|All_files(*)|* Material Library File:
GUI LOOKUP OBJ_OUT_MATERIAL_LIB_OBJ_2 <Unused>, 
DEFAULT_MACRO OBJ_OUT_MATERIAL_LIB_LINKAGE_OBJ_2 Relative
OBJ_2_MATERIAL_LIB_LINKAGE "$(OBJ_OUT_MATERIAL_LIB_LINKAGE_OBJ_2)"
GUI CHOICE OBJ_OUT_MATERIAL_LIB_LINKAGE_OBJ_2 Relative%Absolute%Copy Material Library Linkage:
GUI LOOKUP OBJ_OUT_MATERIAL_LIB_LINKAGE_OBJ_2 <Unused>,Relative 
DEFAULT_MACRO OBJ_OUT_FME_GROUP_NAMED3_OBJ_2 
GUI OPTIONAL DISCLOSUREGROUP OBJ_OUT_FME_GROUP_NAMED3_OBJ_2 OBJ_OUT_TEXTURE_OUTPUT_FORMAT_OBJ_2 Textures
DEFAULT_MACRO OBJ_OUT_TEXTURE_OUTPUT_FORMAT_OBJ_2 NONE
OBJ_2_TEXTURE_OUTPUT_FORMAT "$(OBJ_OUT_TEXTURE_OUTPUT_FORMAT_OBJ_2)"
GUI LOOKUP_CHOICE OBJ_OUT_TEXTURE_OUTPUT_FORMAT_OBJ_2 Auto,NONE%PNG,PNGRASTER%JPEG%GIF,GIFRASTER%BMP%XPM%TIFF Preferred Texture Format:
DEFAULT_MACRO OBJ_OUT_OBJ_WRT_ADV_PARM_GROUP_OBJ_2 
GUI OPTIONAL DISCLOSUREGROUP OBJ_OUT_OBJ_WRT_ADV_PARM_GROUP_OBJ_2 OBJ_OUT_WRITE_FME_VERSION_OBJ_2 Advanced
DEFAULT_MACRO OBJ_OUT_WRITE_FME_VERSION_OBJ_2 Yes
OBJ_2_WRITE_FME_VERSION "$(OBJ_OUT_WRITE_FME_VERSION_OBJ_2)"
GUI CHOICE OBJ_OUT_WRITE_FME_VERSION_OBJ_2 Yes%No Write FME Version to OBJ File Header:
DEFAULT_MACRO OBJ_OUT_LOCAL_COORDSYS_TRANSFORMATION_OBJ_2 OFFSET_CENTROID_TO_ORIGIN
OBJ_2_LOCAL_COORDSYS_TRANSFORMATION "$(OBJ_OUT_LOCAL_COORDSYS_TRANSFORMATION_OBJ_2)"
# ============================================================================
# Opt in for destination dataset type vs format type validation
DEFAULT_MACRO OBJ_OUT_DESTINATION_DATASETTYPE_VALIDATION_OBJ_2 Yes
OBJ_2_DESTINATION_DATASETTYPE_VALIDATION "$(OBJ_OUT_DESTINATION_DATASETTYPE_VALIDATION_OBJ_2)"
# ============================================================================
OBJ_2_GENERATE_FME_BUILD_NUM 23619
OBJ_2_DATASET "$(DestDataset_OBJ_2)"
#! END_DEST_HEADER
#! START_WB_HEADER
MACRO WB_KEYWORD "CESIUM3DTILES_1"
#! END_WB_HEADER
#! START_DEST_HEADER CESIUM3DTILES CESIUM3DTILES_1
#! END_DEST_HEADER
#! START_WB_HEADER
DEFAULT_MACRO DestDataset
INCLUDE [ if {"$(DestDataset)" != ""} {                          \
 puts {DEFAULT_MACRO DestDataset_CESIUM3DTILES_1 $(DestDataset)}         \
 } ]
#! END_WB_HEADER
#! START_DEST_HEADER CESIUM3DTILES CESIUM3DTILES_1
DEFAULT_MACRO DestDataset_CESIUM3DTILES_1 $(DestDataset_CESIUM3DTILES)
GUI DIRNAME DestDataset_CESIUM3DTILES_1 Destination Cesium 3D Tiles Folder:
DEFAULT_MACRO CESIUM3DTILES_OUT_WRITER_PARAMS_CESIUM3DTILES_1 
GUI OPTIONAL DISCLOSUREGROUP CESIUM3DTILES_OUT_WRITER_PARAMS_CESIUM3DTILES_1 CESIUM3DTILES_OUT_MAX_FACES_PER_TILE_CESIUM3DTILES_1 Tile Settings
DEFAULT_MACRO CESIUM3DTILES_OUT_MAX_FACES_PER_TILE_CESIUM3DTILES_1 1000
CESIUM3DTILES_1_MAX_FACES_PER_TILE "$(CESIUM3DTILES_OUT_MAX_FACES_PER_TILE_CESIUM3DTILES_1)"
GUI RANGE_SLIDER CESIUM3DTILES_OUT_MAX_FACES_PER_TILE_CESIUM3DTILES_1 RANGE:[100,10000]%INCR,1000%PRECISION:0%ON Maximum Number of Triangle Faces Per Tile
DEFAULT_MACRO CESIUM3DTILES_OUT_FME_GROUP_NAMED1_CESIUM3DTILES_1 
GUI OPTIONAL DISCLOSUREGROUP CESIUM3DTILES_OUT_FME_GROUP_NAMED1_CESIUM3DTILES_1 CESIUM3DTILES_OUT_TEXTURE_FORMAT_CHOICES_CESIUM3DTILES_1%CESIUM3DTILES_OUT_CREATE_ATLAS_TEXTURES_CESIUM3DTILES_1 Texture Settings
DEFAULT_MACRO CESIUM3DTILES_OUT_TEXTURE_FORMAT_CHOICES_CESIUM3DTILES_1 WEBP
CESIUM3DTILES_1_TEXTURE_FORMAT_CHOICES "$(CESIUM3DTILES_OUT_TEXTURE_FORMAT_CHOICES_CESIUM3DTILES_1)"
GUI ACTIVECHOICE_LOOKUP CESIUM3DTILES_OUT_TEXTURE_FORMAT_CHOICES_CESIUM3DTILES_1 "\"JPEG/PNG Only\",TRADITIONAL"%"\"WebP Only\",WEBP"%"\"Both JPEG/PNG and WebP\",BOTH" Texture Formats:
DEFAULT_MACRO CESIUM3DTILES_OUT_CREATE_ATLAS_TEXTURES_CESIUM3DTILES_1 YES
CESIUM3DTILES_1_CREATE_ATLAS_TEXTURES "$(CESIUM3DTILES_OUT_CREATE_ATLAS_TEXTURES_CESIUM3DTILES_1)"
GUI ACTIVECHOICE_LOOKUP CESIUM3DTILES_OUT_CREATE_ATLAS_TEXTURES_CESIUM3DTILES_1 Yes,YES%No,NO Create Atlas Textures:
DEFAULT_MACRO CESIUM3DTILES_OUT_COORDINATE_SYSTEM_GRANULARITY_CESIUM3DTILES_1 FEATURE
CESIUM3DTILES_1_COORDINATE_SYSTEM_GRANULARITY "$(CESIUM3DTILES_OUT_COORDINATE_SYSTEM_GRANULARITY_CESIUM3DTILES_1)"
DEFAULT_MACRO CESIUM3DTILES_OUT_ALLOW_MIXED_GEOM_TILESETS_CESIUM3DTILES_1 NO
CESIUM3DTILES_1_ALLOW_MIXED_GEOM_TILESETS "$(CESIUM3DTILES_OUT_ALLOW_MIXED_GEOM_TILESETS_CESIUM3DTILES_1)"
DEFAULT_MACRO CESIUM3DTILES_OUT_DEFAULT_CRS_CESIUM3DTILES_1 EPSG:4326
CESIUM3DTILES_1_DEFAULT_CRS "$(CESIUM3DTILES_OUT_DEFAULT_CRS_CESIUM3DTILES_1)"
# ============================================================================
CESIUM3DTILES_1_GENERATE_FME_BUILD_NUM 23619
CESIUM3DTILES_1_DATASET "$(DestDataset_CESIUM3DTILES_1)"
#! END_DEST_HEADER
#! START_WB_HEADER
#! END_WB_HEADER
#! END_HEADER

LOG_FILENAME "$(FME_MF_DIR)FormatillCesium.log"
LOG_APPEND NO
LOG_FILTER_MASK -1
LOG_MAX_FEATURES 200
LOG_MAX_RECORDED_FEATURES 200
FME_REPROJECTION_ENGINE FME
FME_IMPLICIT_CSMAP_REPROJECTION_MODE Auto
FME_GEOMETRY_HANDLING Enhanced
FME_STROKE_MAX_DEVIATION 0
FME_NAMES_ENCODING UTF-8
FME_BULK_MODE_THRESHOLD 2000
DEFAULT_MACRO DATASET_KEYWORD_OBJ_3 OBJ_3
DEFAULT_MACRO DATASET_KEYWORD_OBJ_2 OBJ_2
DEFAULT_MACRO DATASET_KEYWORD_CESIUM3DTILES_1 CESIUM3DTILES_1
# -------------------------------------------------------------------------

OBJ_3_READER_META_ATTRIBUTES fme_feature_type

# -------------------------------------------------------------------------

OBJ_3_COORDINATE_SYSTEM EPSG:32633
MULTI_READER_CONTINUE_ON_READER_FAILURE No

# -------------------------------------------------------------------------

MACRO WORKSPACE_NAME FormatillCesium
MACRO FME_VIEWER_APP fmedatainspector
# -------------------------------------------------------------------------

MACRO WORKSPACE_TEMP_DIR  C:\Users\AMAJEP~1\AppData\Local\Temp\wb-inspectors-myZsHZ
MACRO VISUALIZER_FEATURE_FILE $(WORKSPACE_TEMP_DIR)/inspector.ffs
MACRO VISUALIZER_SCHEMA_FILE $(WORKSPACE_TEMP_DIR)/inspector.fsc
MACRO VISUALIZER_CREATE_SPATIAL_INDEX YES
# -------------------------------------------------------------------------
OBJ_3_DEF HUS_radhus
# -------------------------------------------------------------------------

FACTORY_DEF * RoutingFactory   FACTORY_NAME "Router and Unexpected Input Remover"   COMMAND_PARM_EVALUATION SINGLE_PASS   MULTI_READER_KEYWORD $(DATASET_KEYWORD_OBJ_3)   INPUT FEATURE_TYPE *    ROUTE OBJ OBJ_3::HUS_radhus multi_reader_keyword,$(DATASET_KEYWORD_OBJ_3) TO FME_GENERIC ::HUS_radhus ALIAS_GEOMETRY    MERGE_INPUT Yes   OUTPUT ROUTED FEATURE_TYPE *   OUTPUT NOT_ROUTED FEATURE_TYPE *     @LogCount("UnexpectedInput @FeatureType()")     @FeatureType(__TO_REMOVE__)
FACTORY_DEF * TeeFactory   FACTORY_NAME "Unwanted Router Input Nuker"   INPUT FEATURE_TYPE __TO_REMOVE__
OBJ_3_MERGE_DEF OBJ_3::HUS_radhus EXACT HUS_radhus
# -------------------------------------------------------------------------

FACTORY_DEF * TeeFactory    FACTORY_NAME "HUS_radhus_OBJ_3 Splitter"    INPUT FEATURE_TYPE HUS_radhus    OUTPUT FEATURE_TYPE HUS_radhus_OBJ_3
FACTORY_DEF * TeeFactory   FACTORY_NAME "HUS_radhus_OBJ_3 Feature Counter -1 14"   INPUT FEATURE_TYPE HUS_radhus_OBJ_3   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 14")
DEFAULT_MACRO WB_CURRENT_CONTEXT
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN Creator;15:Main
Tcl2 proc Creator_CoordSysRemover {} {   global FME_CoordSys;   set FME_CoordSys {}; }
MACRO Creator_XML     NOT_ACTIVATED
MACRO Creator_CLASSIC NOT_ACTIVATED
MACRO Creator_2D3D    2D_GEOMETRY
MACRO Creator_COORDS  <Unused>
INCLUDE [ if { {Geometry Object} == {Geometry Object} } {            puts {MACRO Creator_XML *} } ]
INCLUDE [ if { {Geometry Object} == {2D Coordinate List} } {            puts {MACRO Creator_2D3D 2D_GEOMETRY};            puts {MACRO Creator_CLASSIC *} } ]
INCLUDE [ if { {Geometry Object} == {3D Coordinate List} } {            puts {MACRO Creator_2D3D 3D_GEOMETRY};            puts {MACRO Creator_CLASSIC *} } ]
INCLUDE [ if { {Geometry Object} == {2D Min/Max Box} } {            set comment {                We need to turn the COORDS which are                    minX minY maxX maxY                into a full polygon list of coordinates            };            set splitCoords [split [string trim {<Unused>}]];            if { [llength $splitCoords] > 4} {               set trimmedCoords {};               foreach item $splitCoords { if { $item != {} } {lappend trimmedCoords $item} };               set splitCoords $trimmedCoords;            };            if { [llength $splitCoords] != 4 } {                error {Creator: Coordinate list is expected to be a space delimited list of four numbers as 'minx miny maxx maxy' - `<Unused>' is invalid};            };            set minX [lindex $splitCoords 0];            set minY [lindex $splitCoords 1];            set maxX [lindex $splitCoords 2];            set maxY [lindex $splitCoords 3];            puts "MACRO Creator_COORDS $minX $minY $minX $maxY $maxX $maxY $maxX $minY $minX $minY";            puts {MACRO Creator_2D3D 2D_GEOMETRY};            puts {MACRO Creator_CLASSIC *} } ]
FACTORY_DEF {$(Creator_XML)} CreationFactory    FACTORY_NAME { Creator_XML_Creator }    CREATE_AT_END { no }    OUTPUT { FEATURE_TYPE _____CREATED______        @Geometry(FROM_ENCODED_STRING,<lt>?xml<space>version=<quote>1.0<quote><space>encoding=<quote>US_ASCII<quote><space>standalone=<quote>no<quote><space>?<gt><lt>geometry<space>dimension=<quote>2<quote><gt><lt>null<solidus><gt><lt><solidus>geometry<gt>) }
FACTORY_DEF {$(Creator_CLASSIC)} CreationFactory    FACTORY_NAME { Creator_CLASSIC_Creator }    $(Creator_2D3D) { $(Creator_COORDS) }    CREATE_AT_END { no }    OUTPUT { FEATURE_TYPE _____CREATED______ }
FACTORY_DEF {*} TeeFactory    FACTORY_NAME { Creator_Cloner }    INPUT FEATURE_TYPE _____CREATED______        @Tcl2(Creator_CoordSysRemover)        @CoordSys()    NUMBER_OF_COPIES { 1 }    COPY_NUMBER_ATTRIBUTE { "_creation_instance" }    OUTPUT { FEATURE_TYPE Creator_CREATED        fme_feature_type Creator         }
.metadata XFORMER_END Creator;15:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "Creator_CREATED Feature Counter -1 19"   INPUT FEATURE_TYPE Creator_CREATED   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 19")
FACTORY_DEF * BranchingFactory   FACTORY_NAME "Creator_CREATED Brancher -1 19"   INPUT FEATURE_TYPE Creator_CREATED   TARGET_FACTORY "$(WB_CURRENT_CONTEXT)_CREATOR_BRANCH_TARGET"   MAXIMUM_COUNT None   OUTPUT PASSED FEATURE_TYPE *
# -------------------------------------------------------------------------
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(WB_CURRENT_CONTEXT)_CREATOR_BRANCH_TARGET"   INPUT FEATURE_TYPE *  OUTPUT FEATURE_TYPE *
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN CoordinateSystemSetter;18:Main
FACTORY_DEF {*} TeeFactory    FACTORY_NAME { CoordinateSystemSetter }    INPUT  FEATURE_TYPE Creator_CREATED    OUTPUT { FEATURE_TYPE CoordinateSystemSetter_OUTPUT         @CoordSys("EPSG:32633")          }
.metadata XFORMER_END CoordinateSystemSetter;18:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "CoordinateSystemSetter_OUTPUT Feature Counter -1 20"   INPUT FEATURE_TYPE CoordinateSystemSetter_OUTPUT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 20")
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN VertexCreator;16:Main
FACTORY_DEF {*} VertexCreatorFactory    FACTORY_NAME { VertexCreator }    INPUT  FEATURE_TYPE CoordinateSystemSetter_OUTPUT    MODE { REPLACE }    INDEX { "<Unused>" }    CONTINUE_ON_ERROR YES    XVAL { "341240.69808925263" }    YVAL { "6463159.832813128" }    ZVAL { "" }    USE_EXISTING_Z YES    ALLOW_DUPLICATES { "<Unused>" }    CLOSE_LINES { "<Unused>" }    ADD_MODE_VERSION 5    MISSING_VAL_MODE { <Unused> }    COMPUTE_MEASURES_MODE { CONTINUOUS }    COMMAND_PARM_EVALUATION SINGLE_PASS    OUTPUT { OUTPUT FEATURE_TYPE VertexCreator_OUTPUT        }    OUTPUT { REJECTED FEATURE_TYPE VertexCreator_<REJECTED>        }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "VertexCreator_<REJECTED> Feature Recorder -1 2147680272" INPUT FEATURE_TYPE VertexCreator_<REJECTED> FEATURE_FILE  { "C:/Users/AMAJEP~1/AppData/Local/Temp/wb-cache-FormatillCesium-glcVpT/Main_VertexCreator -1 16 fo 1 _lt_REJECTED_gt_  0  815913c59f7b1857a9e94ba6f34c025f6c238423.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,fme_rejection_code,buffer }  FEAT_TYPE_DISPLAY_NAME { VertexCreator_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END VertexCreator;16:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "VertexCreator_OUTPUT Feature Counter -1 21"   INPUT FEATURE_TYPE VertexCreator_OUTPUT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 21")
FACTORY_DEF * TeeFactory   FACTORY_NAME "VertexCreator_<REJECTED> Feature Counter -1 2147680272"   INPUT FEATURE_TYPE VertexCreator_<REJECTED>     @LogCount("PORT -1 2147680272")   NO_LOGGING 
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN Reprojector;17:Main
FACTORY_DEF {*} TeeFactory    FACTORY_NAME { Reprojector }    INPUT  FEATURE_TYPE VertexCreator_OUTPUT    OUTPUT { FEATURE_TYPE Reprojector_REPROJECTED         @Reproject("","EPSG:4326",NearestNeighbor,PreserveCells,Reprojector,"COORD_SYS_WARNING",RASTER_TOLERANCE,"0.0")          }
.metadata XFORMER_END Reprojector;17:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "Reprojector_REPROJECTED Feature Counter -1 23"   INPUT FEATURE_TYPE Reprojector_REPROJECTED   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 23")
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN CoordinateExtractor;22:Main
INCLUDE [    set supplyXFunc {};    if { {_x} != {} }    {       set supplyXFunc {@Coordinate(REJECTABLE_WITH_FLAG,x,"0",FLATTEN_AGGREGATE,YES)};    };    puts "MACRO CoordinateExtractor_SUPPLY_X ${supplyXFunc}"; ]
INCLUDE [    set supplyYFunc {};    if { {_y} != {} }    {       set supplyYFunc {@Coordinate(REJECTABLE_WITH_FLAG,y,"0",FLATTEN_AGGREGATE,NO)};    };    puts "MACRO CoordinateExtractor_SUPPLY_Y ${supplyYFunc}"; ]
INCLUDE [    set supplyZDefaultFunc {};    if { {} != {} }    {       set supplyZDefaultFunc {@EvaluateExpression(ATTR_CREATE_EXPR_PROPAGATE_MISSING,"_z",,FLOAT)};    };    puts "MACRO CoordinateExtractor_SUPPLY_Z_DEFAULT ${supplyZDefaultFunc}"; ]
FACTORY_DEF {*} TestFactory    FACTORY_NAME { CoordinateExtractor_TESTZDEFAULT }    INPUT  FEATURE_TYPE Reprojector_REPROJECTED    TEST { "" = "" ENCODED }    TEST { "" TYPE NUM ENCODED }    BOOLEAN_OPERATOR OR    PRESERVE_FEATURE_ORDER PER_OUTPUT_PORT    OUTPUT { PASSED FEATURE_TYPE CoordinateExtractor_TESTMODE_INPUT }    OUTPUT { FAILED FEATURE_TYPE CoordinateExtractor_<REJECTED>       @SupplyAttributes(fme_rejection_code, INVALID_PARAMETER_DEFAULT_Z)        }
FACTORY_DEF {*} TestFactory    FACTORY_NAME { CoordinateExtractor_TESTMODE }    INPUT { FEATURE_TYPE CoordinateExtractor_TESTMODE_INPUT }    TEST { "Specify Coordinate" == "All Coordinates" }    OUTPUT { PASSED FEATURE_TYPE CoordinateExtractor_LIST_INPUT }    OUTPUT { FAILED FEATURE_TYPE CoordinateExtractor_SPECIFIC_INPUT }
FACTORY_DEF {*} TestFactory    FACTORY_NAME { CoordinateExtractor_LIST }    INPUT { FEATURE_TYPE CoordinateExtractor_LIST_INPUT }    TEST @Dimension() == 2    OUTPUT { PASSED FEATURE_TYPE CoordinateExtractor_OUTPUT         @ZValue("")         @Coordinate(x,ALL,"<Unused>"{}.x,FLATTEN_AGGREGATE,YES)         @Coordinate(y,ALL,"<Unused>"{}.y,FLATTEN_AGGREGATE,NO)         @Coordinate(z,ALL,"<Unused>"{}.z,FLATTEN_AGGREGATE,NO)         @Dimension(2)          }    OUTPUT { FAILED FEATURE_TYPE CoordinateExtractor_OUTPUT         @Coordinate(x,ALL,"<Unused>"{}.x,FLATTEN_AGGREGATE,YES)         @Coordinate(y,ALL,"<Unused>"{}.y,FLATTEN_AGGREGATE,NO)         @Coordinate(z,ALL,"<Unused>"{}.z,FLATTEN_AGGREGATE,NO)          }
FACTORY_DEF {*} TestFactory    FACTORY_NAME { CoordinateExtractor_SPECIFIC }    INPUT { FEATURE_TYPE CoordinateExtractor_SPECIFIC_INPUT }    TEST { "0" TYPE INT ENCODED }    PRESERVE_FEATURE_ORDER PER_OUTPUT_PORT    OUTPUT { PASSED FEATURE_TYPE CoordinateExtractor_SPECIFIC_X_INPUT }    OUTPUT { FAILED FEATURE_TYPE CoordinateExtractor_<REJECTED>       @SupplyAttributes(fme_rejection_code, INVALID_PARAMETER_INDEX)        }
FACTORY_DEF {*} ExecuteFunctionFactory    FACTORY_NAME { CoordinateExtractor_SPECIFIC_X }    INPUT { FEATURE_TYPE CoordinateExtractor_SPECIFIC_X_INPUT }    FUNCTION_DEFINITION { $(CoordinateExtractor_SUPPLY_X) }    RESULT_ATTRIBUTE { _x }    PRESERVE_FEATURE_ORDER PER_OUTPUT_PORT    OUTPUT { COMPLETE FEATURE_TYPE CoordinateExtractor_SPECIFIC_Y_INPUT }    OUTPUT { REJECTED FEATURE_TYPE CoordinateExtractor_<REJECTED>        }
FACTORY_DEF {*} ExecuteFunctionFactory    FACTORY_NAME { CoordinateExtractor_SPECIFIC_Y }    INPUT { FEATURE_TYPE CoordinateExtractor_SPECIFIC_Y_INPUT }    FUNCTION_DEFINITION { $(CoordinateExtractor_SUPPLY_Y) }    RESULT_ATTRIBUTE { _y }    PRESERVE_FEATURE_ORDER PER_OUTPUT_PORT    OUTPUT { COMPLETE FEATURE_TYPE CoordinateExtractor_SPECIFIC_Z_ROUTER_INPUT }    OUTPUT { REJECTED FEATURE_TYPE CoordinateExtractor_<REJECTED>        }
FACTORY_DEF {*} TestFactory    FACTORY_NAME { CoordinateExtractor_SPECIFIC_Z_ROUTER }    INPUT { FEATURE_TYPE CoordinateExtractor_SPECIFIC_Z_ROUTER_INPUT }    TEST { "_z" != "" ENCODED }    TEST @Dimension() == 3    BOOLEAN_OPERATOR AND    OUTPUT { PASSED FEATURE_TYPE CoordinateExtractor_SPECIFIC_Z_INPUT }    OUTPUT { FAILED FEATURE_TYPE CoordinateExtractor_OUTPUT       $(CoordinateExtractor_SUPPLY_Z_DEFAULT)        }
FACTORY_DEF {*} ExecuteFunctionFactory    FACTORY_NAME { CoordinateExtractor_SPECIFIC_Z }    INPUT { FEATURE_TYPE CoordinateExtractor_SPECIFIC_Z_INPUT }    FUNCTION_DEFINITION { @Coordinate(REJECTABLE_WITH_FLAG,z,"0",FLATTEN_AGGREGATE,NO) }    RESULT_ATTRIBUTE { _z }    PRESERVE_FEATURE_ORDER PER_OUTPUT_PORT    OUTPUT { COMPLETE FEATURE_TYPE CoordinateExtractor_OUTPUT        }    OUTPUT { REJECTED FEATURE_TYPE CoordinateExtractor_<REJECTED>        }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "CoordinateExtractor_<REJECTED> Feature Recorder -1 2147680278" INPUT FEATURE_TYPE CoordinateExtractor_<REJECTED> FEATURE_FILE  { "C:/Users/AMAJEP~1/AppData/Local/Temp/wb-cache-FormatillCesium-glcVpT/Main_CoordinateExtractor -1 22 fo 1 _lt_REJECTED_gt_  0  404e123719c6c26821c795deef647d574bdddacd.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,fme_rejection_code,buffer }  FEAT_TYPE_DISPLAY_NAME { CoordinateExtractor_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END CoordinateExtractor;22:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "CoordinateExtractor_OUTPUT Feature Counter -1 25"   INPUT FEATURE_TYPE CoordinateExtractor_OUTPUT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 25")
FACTORY_DEF * TeeFactory   FACTORY_NAME "CoordinateExtractor_<REJECTED> Feature Counter -1 2147680278"   INPUT FEATURE_TYPE CoordinateExtractor_<REJECTED>     @LogCount("PORT -1 2147680278")   NO_LOGGING 
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN Inspector_2;24:Main
# Assumption is that the workspace temp dir has been already set and created.  See controldefs.cpp - ControlDefs::writeVisualizerTempDir
DEFAULT_MACRO WORKSPACE_TEMP_DIR
INCLUDE [    set safeName "[regsub -all {[^a-zA-Z0-9]} {Inspector_2} _]_[expr round(rand() * 1000000)]_[clock clicks  -milliseconds]";    puts "MACRO SAFE_FFS_NAME $safeName"; ]
FACTORY_DEF {*} InspectorFactory    FACTORY_NAME { Inspector_2_Prepper }    COMMAND_PARM_EVALUATION SINGLE_PASS    INPUT  FEATURE_TYPE CoordinateExtractor_OUTPUT    GROUP_ATTRIBUTE __inspector_feature_type_attr__    GROUP_ATTRIBUTE_PREFIX { Inspector_2 }    RASTER_REDUCTION { NoReduction }    POINT_CLOUD_REDUCTION { NO_THINNING }    OUTPUT { RESULT FEATURE_TYPE __viewme__       }
# Now route all the features into the recorder, changing their
# feature type to the transformer name so that they view nicely
DEFAULT_MACRO VISUALIZER_FEATURE_FILE $(WORKSPACE_TEMP_DIR)/$(SAFE_FFS_NAME).ffs
DEFAULT_MACRO VISUALIZER_CREATE_SPATIAL_INDEX NO
# [PR#45549] The Data Inspector will limit the maximum number of features
# it reads on WIN32, so we will correspondingly limit the number of
# features we record here using the MAX_FEATURES_TO_RECORD directive.
FACTORY_DEF {*} RecorderFactory    FACTORY_NAME { Inspector_2_Recorder }    COMMAND_PARM_EVALUATION SINGLE_PASS    INPUT FEATURE_TYPE __viewme__       _wb_termination_feature Yes       @FeatureType(TERMINATOR_@Value(_wb_termination_xformer))    INPUT FEATURE_TYPE __viewme__       @FeatureType(@Value(__inspector_feature_type_attr__))       @RemoveAttributes(__inspector_feature_type_attr__)    FEATURE_FILE { "$(VISUALIZER_FEATURE_FILE)" }    STORE_SCANNED_SCHEMA YES    NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES    CREATE_SPATIAL_INDEX { "$(VISUALIZER_CREATE_SPATIAL_INDEX)" }    INSPECTOR { "$(VISUALIZER_CREATE_SPATIAL_INDEX)" }    FSC_SCHEMA { _creation_instance,uint64,_x,real64,_y,real64,_z,real64 }    MODE RECORD    STORE_SCANNED_METADATA    RECORD_DIRECTLY_TO_DISK YES    MAX_FEATURES_TO_RECORD WIN32 2000000
.metadata XFORMER_END Inspector_2;24:Main
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN Deaggregator;5:Main
FACTORY_DEF {*} DeaggregateFactory    FACTORY_NAME { Deaggregator }    INPUT  FEATURE_TYPE HUS_radhus_OBJ_3    ATTR_ACCUM_MODE { "HANDLE_CONFLICT" }    ATTR_CONFLICT_RES { "INCOMING_IF_CONFLICT" }    INCOMING_PREFIX { "<Unused>" }    RECURSIVE { No }    SPLIT_COMPOSITES { No }    INSTANTIATE_GEOMETRY_INSTANCES_NEW { No }    SET_FME_TYPE Yes    PART_NUMBER_FIELD { _part_number }    GEOMETRY_NAME_FIELD { _geometry_name }    OUTPUT { POINT FEATURE_TYPE Deaggregator_DEAGGREGATED         }    OUTPUT { LINE FEATURE_TYPE Deaggregator_DEAGGREGATED         }    OUTPUT { POLYGON FEATURE_TYPE Deaggregator_DEAGGREGATED         }    OUTPUT { DONUT FEATURE_TYPE Deaggregator_DEAGGREGATED         }    OUTPUT { AGGREGATE FEATURE_TYPE Deaggregator_DEAGGREGATED         }
FACTORY_DEF * TeeFactory   FACTORY_NAME "Deaggregator DEAGGREGATED Splitter"   INPUT FEATURE_TYPE Deaggregator_DEAGGREGATED   OUTPUT FEATURE_TYPE Deaggregator_DEAGGREGATED_0_avdEOkhn5x0=   OUTPUT FEATURE_TYPE Deaggregator_DEAGGREGATED_1_oX1MZlxCXl8=
.metadata XFORMER_END Deaggregator;5:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "Deaggregator_DEAGGREGATED_0_avdEOkhn5x0= Feature Counter -1 10"   INPUT FEATURE_TYPE Deaggregator_DEAGGREGATED_0_avdEOkhn5x0=   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 10")
FACTORY_DEF * TeeFactory   FACTORY_NAME "Deaggregator_DEAGGREGATED_1_oX1MZlxCXl8= Feature Counter -1 11"   INPUT FEATURE_TYPE Deaggregator_DEAGGREGATED_1_oX1MZlxCXl8=   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 11")
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN Tester;9:Main
FACTORY_DEF {*} TestFactory    FACTORY_NAME { Tester }    INPUT  FEATURE_TYPE Deaggregator_DEAGGREGATED_0_avdEOkhn5x0=    TEST { "@EvaluateExpression(FDIV,STRING_ENCODED,<at>Value<openparen>_part_number<closeparen>,Tester)" = 2 ENCODED } TEST { "@EvaluateExpression(FDIV,STRING_ENCODED,<at>Value<openparen>_part_number<closeparen>,Tester)" = 1 ENCODED }    BOOLEAN_OPERATOR { OR }    COMPOSITE_TEST_EXPR { "<Unused>" }    PRESERVE_FEATURE_ORDER { PER_OUTPUT_PORT }    OUTPUT { FAILED FEATURE_TYPE Tester_FAILED         }
FACTORY_DEF * TeeFactory   FACTORY_NAME "Tester FAILED Splitter"   INPUT FEATURE_TYPE Tester_FAILED   OUTPUT FEATURE_TYPE Tester_FAILED_0_a8XdYLrAMhE=   OUTPUT FEATURE_TYPE Tester_FAILED_1_MnRsDOa3vaM=
.metadata XFORMER_END Tester;9:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "Tester_FAILED_0_a8XdYLrAMhE= Feature Counter -1 42"   INPUT FEATURE_TYPE Tester_FAILED_0_a8XdYLrAMhE=   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 42")
FACTORY_DEF * TeeFactory   FACTORY_NAME "Tester_FAILED_1_MnRsDOa3vaM= Feature Counter -1 43"   INPUT FEATURE_TYPE Tester_FAILED_1_MnRsDOa3vaM=   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 43")
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN AppearanceStyler;27:Main
Tcl2 proc AppearanceStyler_Warning {} {    global AppearanceStyler_Warned;    incr AppearanceStyler_Warned;    if { $AppearanceStyler_Warned <= 1 } {       FME_LogMessage fme_warn \"AppearanceStyler: Unsupported geometry found. Removing all unsupported geometry from feature\";    }; }
Tcl2 proc AppearanceStyler_doSetAppearanceName { appearanceName } {          FME_SetAttribute fme_appearance_style_name [FME_DecodeText $appearanceName] }
FACTORY_DEF {*} TestFactory    FACTORY_NAME { AppearanceStyler_GeometryFilter }    INPUT  FEATURE_TYPE Tester_FAILED_1_MnRsDOa3vaM=    TEST &fme_type == "fme_raster"    TEST &fme_type == "fme_no_geom"    BOOLEAN_OPERATOR OR    OUTPUT { PASSED FEATURE_TYPE AppearanceStyler___ValidGeometry___ }    OUTPUT { FAILED FEATURE_TYPE AppearanceStyler___InvalidGeometry___       @RemoveGeometry()       @Tcl2("AppearanceStyler_Warning") }
FACTORY_DEF {*} TeeFactory    FACTORY_NAME { AppearanceStyler }    INPUT { FEATURE_TYPE AppearanceStyler___ValidGeometry___ }    INPUT { FEATURE_TYPE AppearanceStyler___InvalidGeometry___ }    OUTPUT { FEATURE_TYPE AppearanceStyler_OUTPUT       @Tcl2("AppearanceStyler_doSetAppearanceName {} ")       fme_appearance_style_diffuse_color "1,0.666667,0.498039"       fme_appearance_style_ambient_color "1,0.666667,0.498039"       fme_appearance_style_specular_color "1,0.666667,0.498039"       fme_appearance_style_emissive_color "1,0.666667,0.498039"       fme_appearance_style_alpha "1.0"       fme_appearance_style_shininess ""       fme_texture_style_u_offset "0.0"       fme_texture_style_v_offset "0.0"       fme_texture_style_center_u "0.0"       fme_texture_style_center_v "0.0"       fme_texture_style_u_scaling_factor "1.0"       fme_texture_style_v_scaling_factor "1.0"       fme_texture_style_u_shearing_factor "0.0"       fme_texture_style_v_shearing_factor "0.0"       fme_texture_style_rotation_angle "0.0"       fme_texture_style_wrap "REPEAT_BOTH"        }
.metadata XFORMER_END AppearanceStyler;27:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "AppearanceStyler_OUTPUT Feature Counter -1 29"   INPUT FEATURE_TYPE AppearanceStyler_OUTPUT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 29")
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN AppearanceSetter;41:Main
INCLUDE [          set listOrSingle {@Value(___myNewAppearance)};          puts "MACRO LIST_OR_SINGLE $listOrSingle";          ]
INCLUDE [if { ("BOTH" == "BOTH") } {              puts "MACRO APPEARANCE_IDS $(LIST_OR_SINGLE) $(LIST_OR_SINGLE)";          } elseif { ("BOTH" == "FRONT") } {              puts "MACRO APPEARANCE_IDS $(LIST_OR_SINGLE) fme_do_not_set";          } else {              puts "MACRO APPEARANCE_IDS fme_do_not_set $(LIST_OR_SINGLE)";          }          ]
INCLUDE [if { ("SURFACE_NORMAL" == "TOPDOWN_GEOREFERENCED") ||               ("SURFACE_NORMAL" == "ATTRIBUTE") } {              puts "MACRO TEXTURE_U_OFFSET2 0.0";              puts "MACRO TEXTURE_V_OFFSET2 0.0";              puts "MACRO TEXTURE_U_SCALE_FACTOR 1.0";              puts "MACRO TEXTURE_V_SCALE_FACTOR 1.0";          } elseif { ("SURFACE_NORMAL" == "SURFACE_NORMAL_GROUNDUNITS") } {              puts "MACRO TEXTURE_U_OFFSET2 0.0";              puts "MACRO TEXTURE_V_OFFSET2 0.0";              puts "MACRO TEXTURE_U_SCALE_FACTOR 1.0";              puts "MACRO TEXTURE_V_SCALE_FACTOR 1.0";          } else {              puts "MACRO TEXTURE_U_OFFSET2 0.0";              puts "MACRO TEXTURE_V_OFFSET2 0.0";              puts "MACRO TEXTURE_U_SCALE_FACTOR 1.0";              puts "MACRO TEXTURE_V_SCALE_FACTOR 1.0";          }          ]
Tcl2 proc AppearanceSetter_doSetAppearanceName { appearanceName } {          FME_SetAttribute fme_appearance_style_name [FME_DecodeText $appearanceName] }
FACTORY_DEF {*} SortFactory    FACTORY_NAME { AppearanceSetter_HOLDER }    INPUT { FEATURE_TYPE AppearanceSetter__DUMMY__ }
FACTORY_DEF {*} CreationFactory    FACTORY_NAME { AppearanceSetter_ColorStyle_Creator }    CREATE_AT_END NO    OUTPUT { FEATURE_TYPE AppearanceSetter_____CREATED_COLORSTYLE______ }
FACTORY_DEF {*} TeeFactory    FACTORY_NAME { AppearanceSetter_Apply_ColorStyle }    INPUT { FEATURE_TYPE AppearanceSetter_____CREATED_COLORSTYLE______ }    OUTPUT { FEATURE_TYPE AppearanceSetter_____OVERWRITE_APPEARANCE______       @Tcl2("AppearanceSetter_doSetAppearanceName {} ")       fme_appearance_style_diffuse_color ""       fme_appearance_style_ambient_color ""       fme_appearance_style_specular_color ""       fme_appearance_style_emissive_color ""       fme_appearance_style_alpha ""       fme_appearance_style_shininess ""       fme_texture_style_u_offset ""       fme_texture_style_v_offset ""       fme_texture_style_center_u ""       fme_texture_style_center_v ""       fme_texture_style_u_scaling_factor ""       fme_texture_style_v_scaling_factor ""       fme_texture_style_u_shearing_factor ""       fme_texture_style_v_shearing_factor ""       fme_texture_style_rotation_angle ""       __fme_temp_overwrite_appearance_info yes }
# We're going to say "front side" here, as all we want is the attribute back.
FACTORY_DEF {*} SharedObjectFactory    FACTORY_NAME { AppearanceSetter_AddRefs }    INPUT { DEFINITION_FRONT FEATURE_TYPE AppearanceSetter_____OVERWRITE_APPEARANCE______ }    INPUT DEFINITION_FRONT FEATURE_TYPE AppearanceStyler_OUTPUT    INPUT REFERENCER FEATURE_TYPE Tester_FAILED_0_a8XdYLrAMhE=    FLUSH_WHEN_GROUPS_CHANGE { <Unused> }    MODE ADD    SHARED_OBJECT_TYPE APPEARANCE    ADD_AS_ATTR_FRONT ___myNewAppearance    RECURSIVE NO    OUTPUT { INVALID_GEOMETRY FEATURE_TYPE AppearanceSetter_OUTPUT  }    OUTPUT { SUCCESSFUL FEATURE_TYPE AppearanceSetter___touOriginOffsetRejector___ }    OUTPUT { EXTRA_DEFINITION FEATURE_TYPE AppearanceSetter_<REJECTED> fme_rejection_code EXTRA_APPEARANCE_FEATURE  }    OUTPUT { INVALID_DEFINITION FEATURE_TYPE AppearanceSetter_<REJECTED> fme_rejection_code INVALID_APPEARANCE_GEOMETRY_TYPE  }
FACTORY_DEF {*} TestFactory    FACTORY_NAME { AppearanceSetter_uOriginOffsetRejector }    INPUT { FEATURE_TYPE AppearanceSetter___touOriginOffsetRejector___ }    TEST { "$(TEXTURE_U_OFFSET2)" TYPE NUM ENCODED }    OUTPUT { FAILED FEATURE_TYPE AppearanceSetter_<REJECTED>       fme_rejection_code "INVALID_PARAMETER_U_ORIGIN_OFFSET"        }    OUTPUT { PASSED FEATURE_TYPE AppearanceSetter___tovOriginOffsetRejector___ }
FACTORY_DEF {*} TestFactory    FACTORY_NAME { AppearanceSetter_vOriginOffsetRejector }    INPUT { FEATURE_TYPE AppearanceSetter___tovOriginOffsetRejector___ }    TEST { "$(TEXTURE_V_OFFSET2)" TYPE NUM ENCODED }    OUTPUT { FAILED FEATURE_TYPE AppearanceSetter_<REJECTED>       fme_rejection_code "INVALID_PARAMETER_V_ORIGIN_OFFSET"        }    OUTPUT { PASSED FEATURE_TYPE AppearanceSetter___toTextureuRepeatFactorRejector___ }
FACTORY_DEF {*} TestFactory    FACTORY_NAME { AppearanceSetter__textureuRepeatFactorRejector__ }    INPUT { FEATURE_TYPE AppearanceSetter___toTextureuRepeatFactorRejector___ }    TEST { "$(TEXTURE_U_SCALE_FACTOR)" TYPE NUM ENCODED }    OUTPUT { FAILED FEATURE_TYPE AppearanceSetter_<REJECTED>       fme_rejection_code "INVALID_PARAMETER_TEXTURE_U_REPEAT_FACTOR"        }    OUTPUT { PASSED FEATURE_TYPE AppearanceSetter___toTexturevRepeatFactorRejector___ }
FACTORY_DEF {*} TestFactory    FACTORY_NAME { AppearanceSetter__texturevRepeatFactorRejector__ }    INPUT { FEATURE_TYPE AppearanceSetter___toTexturevRepeatFactorRejector___ }    TEST { "$(TEXTURE_V_SCALE_FACTOR)" TYPE NUM ENCODED }    OUTPUT { FAILED FEATURE_TYPE AppearanceSetter_<REJECTED>       fme_rejection_code "INVALID_PARAMETER_TEXTURE_V_REPEAT_FACTOR"        }    OUTPUT { PASSED FEATURE_TYPE AppearanceSetter___TaggedGeoms___ }
FACTORY_DEF {*} GQueryFactory    FACTORY_NAME { AppearanceSetter_GQuery }    INPUT { FEATURE_TYPE AppearanceSetter___TaggedGeoms___ }    GQUERY { "for<space><dollar>geom<space>in<space><solidus><solidus>geometry<lf>where<space><dollar>geom<solidus>count<openparen>parent::geometry<closeparen><space>=<space>0<lf>return<space>number<openparen><dollar>geom<solidus><at>fme_id<closeparen>" }    REJECT_INVALID Yes    ROUTE_UNMATCHED_FEATURES YES    ACTION SET_APPEARANCE    PARAMETER {        $(APPEARANCE_IDS) NO SURFACE_NORMAL "$(TEXTURE_U_SCALE_FACTOR)" "$(TEXTURE_V_SCALE_FACTOR)" "$(TEXTURE_U_OFFSET2)" "$(TEXTURE_V_OFFSET2)" No CREATE       }    OUTPUT { RESULT FEATURE_TYPE AppearanceSetter_OUTPUT       @RemoveAttributes(fme_regexp_match,^___myNewAppearance.*$)        }    OUTPUT { REJECTED FEATURE_TYPE AppearanceSetter_<REJECTED>       @RemoveAttributes(fme_regexp_match,^___myNewAppearance.*$)        }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "AppearanceSetter_<REJECTED> Feature Recorder -1 2147811369" INPUT FEATURE_TYPE AppearanceSetter_<REJECTED> FEATURE_FILE  { "C:/Users/AMAJEP~1/AppData/Local/Temp/wb-cache-FormatillCesium-glcVpT/Main_AppearanceSetter -1 41 fo 3 _lt_REJECTED_gt_  0  9a3288a84d68b2f8759d9de96f59bf13d8d1ae2d.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _part_number,uint64,_geometry_name,buffer,fme_appearance_style_name,buffer,fme_appearance_style_diffuse_color,buffer,fme_appearance_style_ambient_color,buffer,fme_appearance_style_specular_color,buffer,fme_appearance_style_emissive_color,buffer,fme_appearance_style_alpha,real64,fme_appearance_style_shininess,real64,fme_texture_style_u_offset,real64,fme_texture_style_v_offset,real64,fme_texture_style_center_u,real64,fme_texture_style_center_v,real64,fme_texture_style_u_scaling_factor,real64,fme_texture_style_v_scaling_factor,real64,fme_texture_style_rotation_angle,real64,fme_texture_style_u_shearing_factor,real64,fme_texture_style_v_shearing_factor,real64,fme_texture_style_wrap,buffer,fme_texture_style_border_color,buffer,fme_rejection_code,buffer }  FEAT_TYPE_DISPLAY_NAME { AppearanceSetter_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END AppearanceSetter;41:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "AppearanceSetter_OUTPUT Feature Counter -1 44"   INPUT FEATURE_TYPE AppearanceSetter_OUTPUT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 44")
FACTORY_DEF * TeeFactory   FACTORY_NAME "AppearanceSetter_<REJECTED> Feature Counter -1 2147811369"   INPUT FEATURE_TYPE AppearanceSetter_<REJECTED>     @LogCount("PORT -1 2147811369")   NO_LOGGING 
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN Inspector;7:Main
# Assumption is that the workspace temp dir has been already set and created.  See controldefs.cpp - ControlDefs::writeVisualizerTempDir
DEFAULT_MACRO WORKSPACE_TEMP_DIR
INCLUDE [    set safeName "[regsub -all {[^a-zA-Z0-9]} {Inspector} _]_[expr round(rand() * 1000000)]_[clock clicks  -milliseconds]";    puts "MACRO SAFE_FFS_NAME $safeName"; ]
FACTORY_DEF {*} InspectorFactory    FACTORY_NAME { Inspector_Prepper }    COMMAND_PARM_EVALUATION SINGLE_PASS    INPUT  FEATURE_TYPE Deaggregator_DEAGGREGATED_1_oX1MZlxCXl8=    GROUP_ATTRIBUTE __inspector_feature_type_attr__    GROUP_ATTRIBUTE_PREFIX { Inspector }    RASTER_REDUCTION { NoReduction }    POINT_CLOUD_REDUCTION { NO_THINNING }    OUTPUT { RESULT FEATURE_TYPE __viewme__       }
# Now route all the features into the recorder, changing their
# feature type to the transformer name so that they view nicely
DEFAULT_MACRO VISUALIZER_FEATURE_FILE $(WORKSPACE_TEMP_DIR)/$(SAFE_FFS_NAME).ffs
DEFAULT_MACRO VISUALIZER_CREATE_SPATIAL_INDEX NO
# [PR#45549] The Data Inspector will limit the maximum number of features
# it reads on WIN32, so we will correspondingly limit the number of
# features we record here using the MAX_FEATURES_TO_RECORD directive.
FACTORY_DEF {*} RecorderFactory    FACTORY_NAME { Inspector_Recorder }    COMMAND_PARM_EVALUATION SINGLE_PASS    INPUT FEATURE_TYPE __viewme__       _wb_termination_feature Yes       @FeatureType(TERMINATOR_@Value(_wb_termination_xformer))    INPUT FEATURE_TYPE __viewme__       @FeatureType(@Value(__inspector_feature_type_attr__))       @RemoveAttributes(__inspector_feature_type_attr__)    FEATURE_FILE { "$(VISUALIZER_FEATURE_FILE)" }    STORE_SCANNED_SCHEMA YES    NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES    CREATE_SPATIAL_INDEX { "$(VISUALIZER_CREATE_SPATIAL_INDEX)" }    INSPECTOR { "$(VISUALIZER_CREATE_SPATIAL_INDEX)" }    FSC_SCHEMA { _part_number,uint64,_geometry_name,buffer }    MODE RECORD    STORE_SCANNED_METADATA    RECORD_DIRECTLY_TO_DISK YES    MAX_FEATURES_TO_RECORD WIN32 2000000
.metadata XFORMER_END Inspector;7:Main
# -------------------------------------------------------------------------

FACTORY_DEF * RoutingFactory FACTORY_NAME "Destination Feature Type Routing Correlator"   COMMAND_PARM_EVALUATION SINGLE_PASS   INPUT FEATURE_TYPE *    ROUTE FME_GENERIC AppearanceSetter_OUTPUT TO CESIUM3DTILES __GO_TO_FINAL_OUTPUT_ROUTER__ multi_writer_id,1,<at>SupplyAttributes<openparen>ENCODED<comma>__wb_out_feat_type__<comma>ExporttillCesium<closeparen> GEOMETRY   FEATURE_TYPE_ATTRIBUTE __wb_out_feat_type__   OUTPUT ROUTED FEATURE_TYPE *    OUTPUT NOT_ROUTED FEATURE_TYPE __nuke_me__ @Tcl2("FME_StatMessage 818059 [FME_GetAttribute fme_template_feature_type] 818060 818061 fme_warn")
# -------------------------------------------------------------------------

FACTORY_DEF * TeeFactory   FACTORY_NAME "Final Output Nuker"   INPUT FEATURE_TYPE __nuke_me__

# -------------------------------------------------------------------------

DEFAULT_MACRO FME_LAUNCH_VIEWER_APP NO
FACTORY_DEF * CreationFactory    FACTORY_NAME VisualizerProcessor   CREATE_AT_END   OUTPUT FEATURE_TYPE __NUKEME__   @TCL("if {{$(FME_LAUNCH_VIEWER_APP)} == {YES}} {  if [file exists {$(WORKSPACE_TEMP_DIR)}] {set files [glob -nocomplain -directory  {$(WORKSPACE_TEMP_DIR)} -tails *.ffs];   if {[llength $files] == 1} {    set theFile {$(WORKSPACE_TEMP_DIR)/};   append theFile [lindex $files 0];   eval FME_Execute System \173\042$(FME_HOME_UNIX)/fmedatainspector\042  -forcedark --visualizer --single-application --delete-on-close --no-source-prompt -f FFS \042$theFile\042 & \175;  } elseif { [llength $files] == 0 } {  catch { file delete -force {$(WORKSPACE_TEMP_DIR)} };  } else {  set filesNoExt {}; set lastfile {}; foreach {fileName} [lsort $files] { set fileNoExt [string trimright $fileName {.ffs}]; if [regexp {(.*)_[0-9]*$} $fileNoExt wholething fileNoExtBase] {  if { $fileNoExtBase == $lastfile } { continue } }; set lastfile $fileNoExt; lappend filesNoExt $fileNoExt };  eval FME_Execute System \173\042$(FME_HOME_UNIX)/fmedatainspector\042  -forcedark --visualizer --single-application --delete-on-close --no-source-prompt -d {$(WORKSPACE_TEMP_DIR)} -a ffs -f FFS $filesNoExt & \175; }; }; }; ")
FACTORY_DEF * TeeFactory    FACTORY_NAME VisualizerCleaner   INPUT FEATURE_TYPE __NUKEME__
# -------------------------------------------------------------------------
CESIUM3DTILES_1_DEF ExporttillCesium   cesium3dtiles_type           cesium_3d_object
